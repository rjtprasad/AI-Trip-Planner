import conf from "../config/env_config"
import { GoogleGenerativeAI } from "@google/generative-ai";

const apiKey = conf.GEMINI_API_KEY;
const genAI = new GoogleGenerativeAI(apiKey);

const model = genAI.getGenerativeModel({
  model: "gemini-1.5-flash",
});

const generationConfig = {
  temperature: 1,
  topP: 0.95,
  topK: 64,
  maxOutputTokens: 8192,
  responseMimeType: "application/json",
};

export const chatSession = model.startChat({
  generationConfig,
  history: [
    {
      role: "user",
      parts: [
        {
          text: "Generate Travel Plan for Location : Goa, for 4 Days for Friends with a Cheap budget, Give me a Hotels options list with hotel name, hotel address, hotel image url, price, geo coordinates, rating, descriptions and suggest itinerary with place name, place detials, place image url, geo coordinates, ticket price, rating, Time travel each of the location for 4 days with each day plan with best time to visit in JSON format.",
        },
      ],
    },
    {
      role: "model",
      parts: [
        {
          text: '```json\n{\n  "hotels": [\n    {\n      "name": "The LaLiT Golf & Spa Resort Goa",\n      "address": "Raj Baga, Cansaulim, Goa 403712, India",\n      "imageUrl": "https://www.lalit.com/images/gallery/goa-gallery/the-lalit-golf-spa-resort-goa-hotel-goa-india-06.jpg",\n      "price": "₹5,000 - ₹10,000",\n      "geoCoordinates": "15.2928, 73.8542",\n      "rating": 4.5,\n      "description": "Luxury resort with golf course, spa, multiple dining options, and stunning views."\n    },\n    {\n      "name": "The Zuri White Sands Resort & Casino",\n      "address": "Varca Beach, Salcete, Goa 403707, India",\n      "imageUrl": "https://www.thezuri.com/wp-content/uploads/2018/02/Zuri-White-Sands-Resort-and-Casino-Goa-India-1-1024x682.jpg",\n      "price": "₹4,000 - ₹8,000",\n      "geoCoordinates": "15.3216, 73.9254",\n      "rating": 4,\n      "description": "Beachfront resort with casino, multiple swimming pools, and a variety of dining options."\n    },\n    {\n      "name": "The Leela Goa",\n      "address": "Mobor Beach, Cavelossim, Goa 403708, India",\n      "imageUrl": "https://www.theleela.com/media/images/hotels/goa/the-leela-goa-hotel-goa-india-01.jpg",\n      "price": "₹6,000 - ₹12,000",\n      "geoCoordinates": "15.2701, 73.9786",\n      "rating": 4.8,\n      "description": "Luxurious beachfront resort with multiple pools, private beach access, and world-class dining."\n    },\n    {\n      "name": "The Park Calangute, Goa",\n      "address": "Near Calangute Circle, Calangute, Goa 403516, India",\n      "imageUrl": "https://www.theparkhotels.com/images/hotels/goa/gallery/park-calangute-goa-hotel-goa-india-06.jpg",\n      "price": "₹3,000 - ₹6,000",\n      "geoCoordinates": "15.5057, 73.8346",\n      "rating": 4.2,\n      "description": "Modern hotel in Calangute with rooftop pool, bar, and restaurant."\n    },\n    {\n      "name": "The Cidade de Goa",\n      "address": "Vainguinim Beach, Dona Paula, Goa 403004, India",\n      "imageUrl": "https://www.thecidadedegoa.com/assets/images/hotel-gallery/pool-view.jpg",\n      "price": "₹2,500 - ₹5,000",\n      "geoCoordinates": "15.4530, 73.8642",\n      "rating": 4,\n      "description": "Beachfront resort with a focus on relaxation and water sports activities."\n    }\n  ],\n  "itinerary": [\n    {\n      "day": 1,\n      "title": "Panaji & Old Goa Exploration",\n      "description": "Experience the vibrant capital city of Panaji and the historical heritage of Old Goa.",\n      "places": [\n        {\n          "name": "Panaji",\n          "details": "Explore the bustling streets of Panaji, visit the colorful Fontainhas neighborhood, and enjoy the scenic view from the Miramar Beach.",\n          "imageUrl": "https://www.holidify.com/images/cmsuploads/2018/01/Goa-Panaji-Image-01.jpg",\n          "geoCoordinates": "15.5001, 73.8301",\n          "ticketPrice": "Free",\n          "rating": 4.5,\n          "time": "Morning (9am - 1pm)"\n        },\n        {\n          "name": "Old Goa",\n          "details": "Discover the historical churches of Old Goa, including Basilica of Bom Jesus, Se Cathedral, and St. Augustine Tower.",\n          "imageUrl": "https://www.holidify.com/images/cmsuploads/2018/01/Goa-Old-Goa-Image-01.jpg",\n          "geoCoordinates": "15.4972, 73.8383",\n          "ticketPrice": "Free",\n          "rating": 4.8,\n          "time": "Afternoon (2pm - 5pm)"\n        }\n      ]\n    },\n    {\n      "day": 2,\n      "title": "South Goa Beaches & Sunset Cruise",\n      "description": "Enjoy the beautiful beaches of South Goa and witness a breathtaking sunset on a cruise.",\n      "places": [\n        {\n          "name": "Palolem Beach",\n          "details": "Relax and swim in the calm waters of Palolem Beach, known for its laid-back atmosphere.",\n          "imageUrl": "https://www.holidify.com/images/cmsuploads/2018/01/Goa-Palolem-Beach-Image-01.jpg",\n          "geoCoordinates": "15.1658, 73.9511",\n          "ticketPrice": "Free",\n          "rating": 4.7,\n          "time": "Morning (9am - 1pm)"\n        },\n        {\n          "name": "Sunset Cruise",\n          "details": "Embark on a sunset cruise along the Mandovi River, enjoying live music and drinks.",\n          "imageUrl": "https://www.holidify.com/images/cmsuploads/2018/01/Goa-Sunset-Cruise-Image-01.jpg",\n          "geoCoordinates": "15.5001, 73.8301",\n          "ticketPrice": "₹500 - ₹1000",\n          "rating": 4.2,\n          "time": "Evening (5pm - 8pm)"\n        }\n      ]\n    },\n    {\n      "day": 3,\n      "title": "North Goa Beaches & Nightlife",\n      "description": "Experience the vibrant nightlife and party atmosphere of North Goa.",\n      "places": [\n        {\n          "name": "Calangute Beach",\n          "details": "Enjoy swimming, sunbathing, and water sports at the popular Calangute Beach.",\n          "imageUrl": "https://www.holidify.com/images/cmsuploads/2018/01/Goa-Calangute-Beach-Image-01.jpg",\n          "geoCoordinates": "15.5057, 73.8346",\n          "ticketPrice": "Free",\n          "rating": 4.3,\n          "time": "Morning (9am - 1pm)"\n        },\n        {\n          "name": "Baga Beach",\n          "details": "Relax, shop, and dine at Baga Beach, known for its lively atmosphere.",\n          "imageUrl": "https://www.holidify.com/images/cmsuploads/2018/01/Goa-Baga-Beach-Image-01.jpg",\n          "geoCoordinates": "15.5177, 73.8456",\n          "ticketPrice": "Free",\n          "rating": 4.6,\n          "time": "Afternoon (2pm - 5pm)"\n        },\n        {\n          "name": "Tito\'s Lane",\n          "details": "Experience the buzzing nightlife of Tito\'s Lane, with its numerous bars and clubs.",\n          "imageUrl": "https://www.holidify.com/images/cmsuploads/2018/01/Goa-Titos-Lane-Image-01.jpg",\n          "geoCoordinates": "15.5153, 73.8446",\n          "ticketPrice": "Entry fees vary",\n          "rating": 4.1,\n          "time": "Evening (9pm - Late)"\n        }\n      ]\n    },\n    {\n      "day": 4,\n      "title": "Spice Plantation & Water Sports",\n      "description": "Learn about Goan spices and enjoy thrilling water sports.",\n      "places": [\n        {\n          "name": "Sahakari Spice Farm",\n          "details": "Explore the lush green Sahakari Spice Farm and learn about the cultivation and uses of various spices.",\n          "imageUrl": "https://www.holidify.com/images/cmsuploads/2018/01/Goa-Sahakari-Spice-Farm-Image-01.jpg",\n          "geoCoordinates": "15.4728, 73.8480",\n          "ticketPrice": "₹100 - ₹200",\n          "rating": 4.4,\n          "time": "Morning (9am - 1pm)"\n        },\n        {\n          "name": "Grande Island",\n          "details": "Enjoy snorkeling, scuba diving, and other water sports at the beautiful Grande Island.",\n          "imageUrl": "https://www.holidify.com/images/cmsuploads/2018/01/Goa-Grande-Island-Image-01.jpg",\n          "geoCoordinates": "15.4802, 73.8429",\n          "ticketPrice": "₹500 - ₹1000",\n          "rating": 4.7,\n          "time": "Afternoon (2pm - 5pm)"\n        }\n      ]\n    }\n  ]\n}\n```\n\n**Please Note:**\n\n* This itinerary is just a suggestion and can be customized based on your interests and preferences.\n* Hotel prices are approximate and can vary depending on the season and availability.\n* You can find cheaper accommodation options like hostels, guesthouses, and homestays.\n* Many places in Goa offer free entry, but some may have a small entrance fee.\n* It is recommended to book your accommodation and tours in advance, especially during peak season.\n* Travel time between locations may vary depending on traffic and mode of transportation.\n* Always check for the latest travel advisories and guidelines before planning your trip.\n\n**Have a great time in Goa!** \n',
        },
      ],
    },
  ],
});
